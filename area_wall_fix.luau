-- ã‚¨ãƒªã‚¢é–“éš™é–“ä¿®æ­£ï¼ˆå£è¿½åŠ ï¼‰
print("ğŸ§± ã‚¨ãƒªã‚¢é–“ã®éš™é–“ã‚’ä¿®æ­£ä¸­...")

local workspace = game:GetService("Workspace")

-- MazeGameãƒ•ã‚©ãƒ«ãƒ€ã®å–å¾—
local mazeGame = workspace:FindFirstChild("MazeGame")
if not mazeGame then
    warn("âŒ MazeGameãƒ•ã‚©ãƒ«ãƒ€ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
    return
end

-- å£ä½œæˆé–¢æ•°
local function createWall(position, size, name, parent)
    local wall = Instance.new("Part")
    wall.Name = name
    wall.Size = size
    wall.Position = position
    wall.Anchored = true
    wall.Material = Enum.Material.Brick
    wall.BrickColor = BrickColor.new("Dark stone grey")
    wall.Parent = parent
    
    return wall
end

-- å£ãƒ•ã‚©ãƒ«ãƒ€ã®å–å¾—ï¼ˆæ—¢å­˜ã®å£ã¨çµ±åˆï¼‰
local wallsFolder = mazeGame:FindFirstChild("Walls")
if not wallsFolder then
    wallsFolder = Instance.new("Folder")
    wallsFolder.Name = "Walls"
    wallsFolder.Parent = mazeGame
end

-- === ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã®éš™é–“ä¿®æ­£ ===
print("ğŸ§± ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã®éš™é–“ã‚’ä¿®æ­£ä¸­...")

-- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢: z=-90 ã‹ã‚‰ z=-130
-- ã‚¹ã‚¿ãƒ¼ãƒˆã‚²ãƒ¼ãƒˆ: z=-73
-- éš™é–“: z=-90 ã‹ã‚‰ z=-73 ã®é–“

-- å·¦å´ã®å£ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã¨ã‚¹ã‚¿ãƒ¼ãƒˆã‚²ãƒ¼ãƒˆé–“ï¼‰
createWall(
    Vector3.new(-50, 20, -81.5),  -- ä¸­é–“ä½ç½® (-90 + -73) / 2 = -81.5
    Vector3.new(6, 40, 17),       -- å¹…6, é«˜ã•40, é•·ã•17 (-90 - (-73) = 17)
    "StartGapWallLeft",
    wallsFolder
)

-- å³å´ã®å£ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã¨ã‚¹ã‚¿ãƒ¼ãƒˆã‚²ãƒ¼ãƒˆé–“ï¼‰
createWall(
    Vector3.new(50, 20, -81.5),
    Vector3.new(6, 40, 17),
    "StartGapWallRight", 
    wallsFolder
)

-- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã®å·¦å³å¤–å´ã®å»¶é•·å£
createWall(
    Vector3.new(-65, 20, -110),   -- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢å·¦å¤–å´
    Vector3.new(6, 40, 40),       -- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢å…¨ä½“ã‚’ã‚«ãƒãƒ¼
    "StartAreaExtendedWallLeft",
    wallsFolder
)

createWall(
    Vector3.new(65, 20, -110),    -- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢å³å¤–å´
    Vector3.new(6, 40, 40),
    "StartAreaExtendedWallRight",
    wallsFolder
)

print("âœ… ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã®éš™é–“ä¿®æ­£å®Œäº†")

-- === ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã®éš™é–“ä¿®æ­£ ===
print("ğŸ§± ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã®éš™é–“ã‚’ä¿®æ­£ä¸­...")

-- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢: z=85 ã‹ã‚‰ z=135
-- ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆ: z=73
-- éš™é–“: z=73 ã‹ã‚‰ z=85 ã®é–“

-- å·¦å´ã®å£ï¼ˆã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¨ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢é–“ï¼‰
createWall(
    Vector3.new(-50, 20, 79),     -- ä¸­é–“ä½ç½® (73 + 85) / 2 = 79
    Vector3.new(6, 40, 12),       -- é•·ã•12 (85 - 73 = 12)
    "GoalGapWallLeft",
    wallsFolder
)

-- å³å´ã®å£ï¼ˆã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¨ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢é–“ï¼‰
createWall(
    Vector3.new(50, 20, 79),
    Vector3.new(6, 40, 12),
    "GoalGapWallRight",
    wallsFolder
)

-- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã®å·¦å³å¤–å´ã®å»¶é•·å£
createWall(
    Vector3.new(-65, 20, 110),    -- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å·¦å¤–å´
    Vector3.new(6, 40, 50),       -- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å…¨ä½“ã‚’ã‚«ãƒãƒ¼
    "GoalAreaExtendedWallLeft",
    wallsFolder
)

createWall(
    Vector3.new(65, 20, 110),     -- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å³å¤–å´
    Vector3.new(6, 40, 50),
    "GoalAreaExtendedWallRight",
    wallsFolder
)

print("âœ… ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã®éš™é–“ä¿®æ­£å®Œäº†")

-- === è¿·è·¯å¤–å‘¨ã®å®Œå…¨å°é– ===
print("ğŸ§± è¿·è·¯å¤–å‘¨ã®å°é–ã‚’å¼·åŒ–ä¸­...")

-- è¿·è·¯ã®å·¦å³å¤–å´ã«è¿½åŠ ã®å£
createWall(
    Vector3.new(-110, 20, 0),     -- è¿·è·¯å·¦å¤–å´
    Vector3.new(6, 40, 160),      -- è¿·è·¯å…¨ä½“ã®é«˜ã•ã‚’ã‚«ãƒãƒ¼
    "MazeLeftOuterWall",
    wallsFolder
)

createWall(
    Vector3.new(110, 20, 0),      -- è¿·è·¯å³å¤–å´
    Vector3.new(6, 40, 160),
    "MazeRightOuterWall",
    wallsFolder
)

-- è¿·è·¯ä¸Šä¸‹ã®å¤–å´å£
createWall(
    Vector3.new(0, 20, -85),      -- è¿·è·¯ä¸Šå¤–å´ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆã‚²ãƒ¼ãƒˆå‰ï¼‰
    Vector3.new(220, 40, 6),      -- å¹…ã‚’å¤§ããã—ã¦å®Œå…¨å°é–
    "MazeTopOuterWall",
    wallsFolder
)

createWall(
    Vector3.new(0, 20, 85),       -- è¿·è·¯ä¸‹å¤–å´ï¼ˆã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆå¾Œï¼‰
    Vector3.new(220, 40, 6),
    "MazeBottomOuterWall",
    wallsFolder
)

print("âœ… è¿·è·¯å¤–å‘¨ã®å°é–å¼·åŒ–å®Œäº†")

-- === å¤©äº•ã®è¿½åŠ ï¼ˆéš™é–“éƒ¨åˆ†ï¼‰ ===
print("ğŸ  éš™é–“éƒ¨åˆ†ã®å¤©äº•ã‚’è¿½åŠ ä¸­...")

-- ã‚¬ãƒ©ã‚¹å¤©äº•ãƒ•ã‚©ãƒ«ãƒ€ã®å–å¾—
local glassCeilingFolder = mazeGame:FindFirstChild("GlassCeiling")
if glassCeilingFolder then
    -- ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢ã¨ã‚¹ã‚¿ãƒ¼ãƒˆã‚²ãƒ¼ãƒˆé–“ã®å¤©äº•
    for x = -60, 60, 20 do
        for z = -90, -70, 20 do
            local ceiling = Instance.new("Part")
            ceiling.Name = "StartGapCeiling"
            ceiling.Size = Vector3.new(20, 2, 20)
            ceiling.Position = Vector3.new(x, 42, z)
            ceiling.Anchored = true
            ceiling.CanCollide = true
            ceiling.Material = Enum.Material.Glass
            ceiling.BrickColor = BrickColor.new("Institutional white")
            ceiling.Transparency = 0.1
            ceiling.Reflectance = 0.1
            ceiling.Parent = glassCeilingFolder
        end
    end
    
    -- ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¨ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢é–“ã®å¤©äº•
    for x = -60, 60, 20 do
        for z = 70, 90, 20 do
            local ceiling = Instance.new("Part")
            ceiling.Name = "GoalGapCeiling"
            ceiling.Size = Vector3.new(20, 2, 20)
            ceiling.Position = Vector3.new(x, 42, z)
            ceiling.Anchored = true
            ceiling.CanCollide = true
            ceiling.Material = Enum.Material.Glass
            ceiling.BrickColor = BrickColor.new("Institutional white")
            ceiling.Transparency = 0.1
            ceiling.Reflectance = 0.1
            ceiling.Parent = glassCeilingFolder
        end
    end
    
    print("ğŸ  éš™é–“éƒ¨åˆ†ã®å¤©äº•è¿½åŠ å®Œäº†")
end

print("âœ… ã‚¨ãƒªã‚¢é–“éš™é–“ä¿®æ­£ã‚·ã‚¹ãƒ†ãƒ å®Œäº†ï¼")
print("ğŸ§± è¿½åŠ ã—ãŸå£:")
print("  â€¢ ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢éš™é–“å°é–: å·¦å³2é¢")
print("  â€¢ ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢éš™é–“å°é–: å·¦å³2é¢") 
print("  â€¢ ã‚¨ãƒªã‚¢å¤–å´å»¶é•·å£: å„4é¢")
print("  â€¢ è¿·è·¯å¤–å‘¨å¼·åŒ–å£: 4é¢")
print("ğŸ  è¿½åŠ ã—ãŸå¤©äº•:")
print("  â€¢ ã‚¹ã‚¿ãƒ¼ãƒˆã‚¨ãƒªã‚¢éš™é–“å¤©äº•")
print("  â€¢ ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢éš™é–“å¤©äº•")
print("")
print("ğŸš« ã“ã‚Œã§è¿·è·¯å¤–å´ã‚’é€šã£ãŸã‚ºãƒ«ãŒã§ããªããªã‚Šã¾ã—ãŸï¼")