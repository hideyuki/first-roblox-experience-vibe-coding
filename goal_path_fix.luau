-- ã‚´ãƒ¼ãƒ«ã¾ã§ã®ä¸€æœ¬é“ä¿®æ­£
print("ğŸ›¤ï¸ ã‚´ãƒ¼ãƒ«ã¾ã§ã®ä¸€æœ¬é“ã‚’æ§‹ç¯‰ä¸­...")

local workspace = game:GetService("Workspace")

-- MazeGameãƒ•ã‚©ãƒ«ãƒ€ã®å–å¾—
local mazeGame = workspace:FindFirstChild("MazeGame")
if not mazeGame then
    warn("âŒ MazeGameãƒ•ã‚©ãƒ«ãƒ€ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
    return
end

-- å£ãƒ•ã‚©ãƒ«ãƒ€ã®å–å¾—
local wallsFolder = mazeGame:FindFirstChild("Walls")
if not wallsFolder then
    wallsFolder = Instance.new("Folder")
    wallsFolder.Name = "Walls"
    wallsFolder.Parent = mazeGame
end

-- å£ä½œæˆé–¢æ•°
local function createWall(position, size, name, parent)
    local wall = Instance.new("Part")
    wall.Name = name
    wall.Size = size
    wall.Position = position
    wall.Anchored = true
    wall.Material = Enum.Material.Brick
    wall.BrickColor = BrickColor.new("Dark stone grey")
    wall.Parent = parent
    return wall
end

-- æ—¢å­˜ã®å•é¡Œã®ã‚ã‚‹å£ã‚’å‰Šé™¤
local problematicWalls = {
    "GoalGapWallLeft", "GoalGapWallRight",
    "GoalAreaExtendedWallLeft", "GoalAreaExtendedWallRight",
    "MazeBottomOuterWall"
}

for _, wallName in ipairs(problematicWalls) do
    local wall = wallsFolder:FindFirstChild(wallName)
    if wall then
        wall:Destroy()
        print("ğŸ—‘ï¸ " .. wallName .. " ã‚’å‰Šé™¤ã—ã¾ã—ãŸ")
    end
end

-- === ä¸€æœ¬é“ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ ===

-- 1. è¿·è·¯çµ‚ç«¯ã‹ã‚‰ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¾ã§ã®å°ç·šå£
print("ğŸ›¤ï¸ è¿·è·¯çµ‚ç«¯ã‹ã‚‰ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¾ã§ã®å°ç·šã‚’æ§‹ç¯‰ä¸­...")

-- è¿·è·¯çµ‚ç«¯ï¼ˆz=75ï¼‰ã‹ã‚‰ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆï¼ˆz=73ï¼‰ã¾ã§ã®ãƒãƒ£ãƒãƒ«
-- å·¦å´ã®å°ç·šå£
createWall(Vector3.new(-25, 20, 74), Vector3.new(6, 40, 4), "GoalChannelWallLeft", wallsFolder)
-- å³å´ã®å°ç·šå£  
createWall(Vector3.new(25, 20, 74), Vector3.new(6, 40, 4), "GoalChannelWallRight", wallsFolder)

-- 2. ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã¾ã§ã®ä¸€æœ¬é“
print("ğŸ›¤ï¸ ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã¾ã§ã®ä¸€æœ¬é“ã‚’æ§‹ç¯‰ä¸­...")

-- ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆï¼ˆz=73ï¼‰ã‹ã‚‰ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å…¥å£ï¼ˆz=85ï¼‰ã¾ã§ã®ç‹­ã„é€šè·¯
-- é€šè·¯å¹…: 16ã‚¹ã‚¿ãƒƒãƒ‰ï¼ˆã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã¨åŒã˜å¹…ï¼‰

-- å·¦å´ã®é€šè·¯å£
createWall(Vector3.new(-12, 20, 79), Vector3.new(6, 40, 12), "GoalPathWallLeft", wallsFolder)
-- å³å´ã®é€šè·¯å£
createWall(Vector3.new(12, 20, 79), Vector3.new(6, 40, 12), "GoalPathWallRight", wallsFolder)

-- 3. è¿·è·¯å¤–å´ã®å®Œå…¨å°é–ï¼ˆã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å‘¨è¾ºï¼‰
print("ğŸ›¤ï¸ ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å‘¨è¾ºã®å¤–å´å°é–ã‚’æ§‹ç¯‰ä¸­...")

-- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å·¦å³ã®å¤–å´å£ï¼ˆè¿‚å›é˜²æ­¢ï¼‰
createWall(Vector3.new(-45, 20, 115), Vector3.new(6, 40, 60), "GoalAreaLeftOuterWall", wallsFolder)
createWall(Vector3.new(45, 20, 115), Vector3.new(6, 40, 60), "GoalAreaRightOuterWall", wallsFolder)

-- ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢å¥¥ã®å¤–å´å£
createWall(Vector3.new(0, 20, 150), Vector3.new(96, 40, 6), "GoalAreaBackOuterWall", wallsFolder)

-- 4. è¿·è·¯å¤–å´ã‹ã‚‰ã®è¿‚å›ã‚’é˜²ãè¿½åŠ å£
print("ğŸ›¤ï¸ è¿‚å›é˜²æ­¢å£ã‚’æ§‹ç¯‰ä¸­...")

-- è¿·è·¯å·¦å³ã®å¤–å´ã‚’å®Œå…¨å°é–
createWall(Vector3.new(-95, 20, 40), Vector3.new(6, 40, 80), "MazeLeftSideWall", wallsFolder)
createWall(Vector3.new(95, 20, 40), Vector3.new(6, 40, 80), "MazeRightSideWall", wallsFolder)

-- è¿·è·¯ä¸‹å´ã®å¤–å´å£ï¼ˆã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢æ‰‹å‰ã¾ã§ï¼‰
createWall(Vector3.new(-60, 20, 80), Vector3.new(60, 40, 6), "MazeBottomWallLeft", wallsFolder)
createWall(Vector3.new(60, 20, 80), Vector3.new(60, 40, 6), "MazeBottomWallRight", wallsFolder)
-- ä¸­å¤®éƒ¨åˆ†ï¼ˆx=-15ã‹ã‚‰x=15ï¼‰ã¯é€šè·¯ã¨ã—ã¦é–‹ã‘ã¦ãŠã

-- 5. å¤©äº•ã®è¿½åŠ ï¼ˆä¸€æœ¬é“éƒ¨åˆ†ï¼‰
print("ğŸ  ä¸€æœ¬é“éƒ¨åˆ†ã®å¤©äº•ã‚’è¿½åŠ ä¸­...")

-- ã‚¬ãƒ©ã‚¹å¤©äº•ãƒ•ã‚©ãƒ«ãƒ€ã®å–å¾—
local glassCeilingFolder = mazeGame:FindFirstChild("GlassCeiling")
if glassCeilingFolder then
    -- ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã‹ã‚‰é€šè·¯ã¾ã§ã®å¤©äº•
    for x = -20, 20, 10 do
        for z = 72, 84, 6 do
            local ceiling = Instance.new("Part")
            ceiling.Name = "GoalPathCeiling"
            ceiling.Size = Vector3.new(10, 2, 6)
            ceiling.Position = Vector3.new(x, 42, z)
            ceiling.Anchored = true
            ceiling.CanCollide = true
            ceiling.Material = Enum.Material.Glass
            ceiling.BrickColor = BrickColor.new("Institutional white")
            ceiling.Transparency = 0.1
            ceiling.Reflectance = 0.1
            ceiling.Parent = glassCeilingFolder
        end
    end
    print("ğŸ  ä¸€æœ¬é“å¤©äº•ã‚’è¿½åŠ ã—ã¾ã—ãŸ")
end

-- 6. æ¡ˆå†…æ¨™è­˜ã®è¨­ç½®
print("ğŸ·ï¸ æ¡ˆå†…æ¨™è­˜ã‚’è¨­ç½®ä¸­...")

-- ã€ŒGOAL ENTRANCEã€æ¨™è­˜
local goalEntranceSign = Instance.new("Part")
goalEntranceSign.Name = "GoalEntranceSign"
goalEntranceSign.Size = Vector3.new(8, 2, 0.5)
goalEntranceSign.Position = Vector3.new(0, 8, 78)  -- é€šè·¯ã®ä¸­é–“
goalEntranceSign.Anchored = true
goalEntranceSign.Material = Enum.Material.SmoothPlastic
goalEntranceSign.BrickColor = BrickColor.new("Bright yellow")
goalEntranceSign.Parent = mazeGame

-- æ¨™è­˜ã®GUI
local entranceGui = Instance.new("SurfaceGui")
entranceGui.Name = "EntranceGui"
entranceGui.Face = Enum.NormalId.Front
entranceGui.Parent = goalEntranceSign

local entranceLabel = Instance.new("TextLabel")
entranceLabel.Name = "EntranceLabel"
entranceLabel.Size = UDim2.new(1, 0, 1, 0)
entranceLabel.BackgroundTransparency = 1
entranceLabel.Text = "â†’ GOAL ENTRANCE â†"
entranceLabel.TextColor3 = Color3.new(0, 0, 0)
entranceLabel.TextScaled = true
entranceLabel.Font = Enum.Font.SourceSansBold
entranceLabel.Parent = entranceGui

print("âœ… ã‚´ãƒ¼ãƒ«ã¾ã§ã®ä¸€æœ¬é“ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰å®Œäº†ï¼")
print("ğŸ›¤ï¸ ä¸€æœ¬é“ã®æ§‹é€ :")
print("  1. è¿·è·¯çµ‚ç«¯ â†’ ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆï¼ˆãƒãƒ£ãƒãƒ«å¹…: 20ã‚¹ã‚¿ãƒƒãƒ‰ï¼‰")
print("  2. ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆ â†’ ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ï¼ˆé€šè·¯å¹…: 16ã‚¹ã‚¿ãƒƒãƒ‰ï¼‰")
print("  3. å¤–å´å®Œå…¨å°é–ï¼ˆè¿‚å›ä¸å¯ï¼‰")
print("  4. å¤©äº•ä»˜ãï¼ˆé£›ã³è¶Šãˆä¸å¯ï¼‰")
print("  5. æ¡ˆå†…æ¨™è­˜ä»˜ã")
print("")
print("ğŸš« ã“ã‚Œã§ã‚´ãƒ¼ãƒ«ã‚²ãƒ¼ãƒˆã‚’é€šã‚‰ãšã«ã‚´ãƒ¼ãƒ«ã‚¨ãƒªã‚¢ã«è¡Œãã“ã¨ã¯ä¸å¯èƒ½ã«ãªã‚Šã¾ã—ãŸï¼")